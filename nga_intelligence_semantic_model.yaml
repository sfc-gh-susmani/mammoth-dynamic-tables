name: "nga_satellite_intelligence"
description: "Simplified semantic model for NGA satellite imagery analysis"

tables:
  - name: "satellite_imagery"
    description: "Satellite imagery metadata for NGA operations"
    baseTable:
      database: "MAMMOTH"
      schema: "PUBLIC"
      table: "silver_imagery_metadata_iceberg"

    primaryKey:
      columns:
        - "IMAGE_ID"

    dimensions:
      - name: "image_id"
        expr: "IMAGE_ID"
        description: "Unique identifier for each satellite image"
        dataType: "TEXT"
        unique: true
      - name: "sensor_type"
        expr: "SENSOR_TYPE"
        description: "Type of satellite sensor"
        dataType: "TEXT"
        sampleValues:
          - "WorldView-3"
          - "Landsat-8"
          - "Sentinel-2"
      - name: "bay_region"
        expr: "BAY_REGION"
        description: "San Francisco Bay area region"
        dataType: "TEXT"
        sampleValues:
          - "North Bay"
          - "South Bay"
          - "East Bay"
      - name: "latitude"
        expr: "LATITUDE"
        description: "Geographic latitude coordinate"
        dataType: "NUMBER"
      - name: "longitude"
        expr: "LONGITUDE"
        description: "Geographic longitude coordinate"
        dataType: "NUMBER"

    timeDimensions:
      - name: "capture_date"
        expr: "CAPTURE_DATE"
        description: "Date when the satellite image was captured"
        dataType: "DATE"

    facts:
      - name: "resolution_meters"
        expr: "RESOLUTION_METERS"
        description: "Spatial resolution in meters per pixel"
        dataType: "NUMBER"
      - name: "combined_quality_score"
        expr: "COMBINED_QUALITY_SCORE"
        description: "Overall quality score of the image"
        dataType: "NUMBER"

    metrics:
      - name: "total_images"
        expr: "COUNT(*)"
        description: "Total number of satellite images"
        dataType: "NUMBER"
      - name: "average_quality"
        expr: "AVG(COMBINED_QUALITY_SCORE)"
        description: "Average quality score"
        dataType: "NUMBER"

verified_queries:
  - name: "count_satellite_images"
    question: "How many satellite images do we have?"
    verified_at: "2024-08-04"
    sql: |
      SELECT COUNT(*) as total_images
      FROM satellite_imagery

custom_instructions: |
  This semantic model covers satellite imagery data from the San Francisco Bay Area.
  Use this model to answer questions about satellite image counts, quality, and capture information.
